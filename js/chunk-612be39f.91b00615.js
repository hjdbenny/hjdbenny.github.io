(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-612be39f"],{3823:function(t,e,i){},5896:function(t,e,i){"use strict";i("3823")},"8e58":function(t,e,i){"use strict";i.r(e);var n=i("f2bf"),c={class:"writer-wrapper"},r={class:"btn-groups"},a=Object(n["createTextVNode"])(" 返回文章列表 "),o=Object(n["createTextVNode"])(" 保存 "),l={class:"field"},s=Object(n["createVNode"])("div",{class:"title"},"标题",-1),d={class:"field"};function u(t,e,i,u,h,m){var p=Object(n["resolveComponent"])("a-button"),f=Object(n["resolveComponent"])("a-input"),b=Object(n["resolveComponent"])("v-md-editor");return Object(n["openBlock"])(),Object(n["createBlock"])("div",c,[Object(n["createVNode"])("div",r,[Object(n["createVNode"])(p,{onClick:m.backToList,type:"primary",shape:"round"},{default:Object(n["withCtx"])((function(){return[a]})),_:1},8,["onClick"]),Object(n["createVNode"])(p,{onClick:m.saveArticle,type:"primary",style:{"margin-left":"16px"},shape:"round"},{default:Object(n["withCtx"])((function(){return[o]})),_:1},8,["onClick"])]),Object(n["createVNode"])("div",l,[s,Object(n["createVNode"])(f,{value:h.title,"onUpdate:value":e[1]||(e[1]=function(t){return h.title=t}),placeholder:"请输入标题"},null,8,["value"])]),Object(n["createVNode"])("div",d,[Object(n["createVNode"])(b,{modelValue:h.content,"onUpdate:modelValue":e[2]||(e[2]=function(t){return h.content=t}),style:{"min-height":"400px"},onChange:m.mdChange,onSave:m.saveArticle},null,8,["modelValue","onChange","onSave"])])])}var h={data:function(){return{title:"",content:"",html:""}},methods:{mdChange:function(t,e){this.html=e},saveArticle:function(){var t={id:null,title:this.title,content:this.content,html:this.html,author:this.$store.state.userInfo.nickname};console.log(t),this.$store.state.curWritingArticleId?(t.id=this.$store.state.curWritingArticleId,this.updateArticle(t)):this.addArticle(t)},getArticle:function(){var t=this;this.$api.article.getArticle({id:this.$store.state.curWritingArticleId}).then((function(e){t.title=e.data.title,t.content=e.data.content,t.html=e.data.html,t.$store.commit("setCurWritingArticleId",e.data.id)}))},updateArticle:function(t){var e=this;this.$api.article.updateArticle(t).then((function(){e.$message.success("更新成功")}))},addArticle:function(t){var e=this;this.$api.article.addArticle(t).then((function(t){e.$store.commit("setCurWritingArticleId",t.data),e.$message.success("新增成功"),e.getArticle()}))},uploadImage:function(t,e){var i=this,n=new FormData;n.append("file",e),this.$api.common.uploadImage(n).then((function(e){i.$refs.md.$img2Url(t,e.data)}))},backToList:function(){this.$router.push({path:"/home"}),this.$store.commit("setCurWritingArticleId",null)}},mounted:function(){this.$store.state.curWritingArticleId&&this.getArticle()}};i("5896");h.render=u;e["default"]=h}}]);
//# sourceMappingURL=chunk-612be39f.91b00615.js.map